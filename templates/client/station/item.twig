<script type="text/html" id="stationItem">
    <div class="page-header">
        <h3>
            <span style="padding-right: 20px"><%= system %> - <%= name %></span>
            <a href="#" class="btn btn-default" title="add commodity"
               role="button" data-toggle="modal" data-target="#addCommodityDialog">
                <span class="glyphicon glyphicon-plus"></span> add commodity
            </a>
            <a href="#edit/<%= id %>" class="btn btn-default renameStation" title="rename" role="button">
                <span class="glyphicon glyphicon-pencil"></span> rename
            </a>
            <a href="#" class="btn btn-default removeStation" title="remove station" role="button">
                <span class="glyphicon glyphicon-remove"></span> remove station
            </a>
        </h3>

        <div class="clearfix"></div>
    </div>
    <div class="container">

    </div>
    <div class="container">
        <div class="col-md-6">
            <h4>Commodities</h4>
            <table id="items" class="table table-striped table-hover panel-body">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Buy</th>
                    <th>Sell</th>
                    <th></th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="col-md-6">
            <h4>Routes</h4>
            <table id="routes" class="table table-striped table-hover panel-body">
                <thead>
                <tr>
                    <th>Profit</th>
                    <th>Quantity</th>
                    <th>Target</th>
                    <th>Commodity</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="addCommodityDialog" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Add Commodity</h4>
                </div>
                <form>
                    <div class="modal-body table-responsive">
                        <table class="table table-striped panel-body">
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Buy</th>
                                <th>Sell</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <select id="commodityId" class="form-control">
                                        {% for item in commodities %}
                                            <option value="{{ loop.index0 }}">{{ item }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>
                                    <input type="text" id="commodityBuy" value="0" size="2" class="form-control"/>
                                </td>
                                <td>
                                    <input type="text" id="commoditySell" value="0" size="2" class="form-control"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary addItem">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</script>

<script type="text/template" id="commodityItem">
    <tr data-id="<%= id %>">
        <td><%= name %></td>
        <td><input type="text" value="<%= buy %>" class="resBuy form-control input-sm" size="2"/></td>
        <td><input type="text" value="<%= sell %>" class="resSell form-control input-sm" size="2"/></td>
        <td>
            <a href="#" class="delete btn-link">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </a>
        </td>
    </tr>
</script>

<script type="text/template" id="routeItem">
    <tr<% if(max) { %> class="success"<% } %>>
    <td><strong><%= profit %></strong></td>
    <td><%= quantity %></td>
    <td><a href="#station/<%= target.id %>"><%= target.attributes.system %> - <%= target.attributes.name %></a></td>
    <td><%= commodity %></td>
    </tr>
</script>

<script type="text/javascript">
    var commodities = {{ commodityJSON }};
</script>